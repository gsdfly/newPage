webpackJsonp([2],{Irl6:function(e,n){},NHnr:function(e,n,t){"use strict";function o(){var e=window.navigator.userAgent.toLowerCase();return"micromessenger"==e.match(/MicroMessenger/i)?"WeiXin":"alipayclient"==e.match(/AlipayClient/i)?"Alipay":"tbmovie"==e.match(/tbmovie/i)?"Tpp":"false"}Object.defineProperty(n,"__esModule",{value:!0});var a=t("lC5x"),r=t.n(a),i=t("J0Oq"),c=t.n(i),s=t("XwMK"),u=t("hRKE"),p=t.n(u),l=t("rVsN"),d=t.n(l),h=t("3cXf"),f=t.n(h),w=t("ZLEe"),m=t.n(w),x=function(e){var n=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),t=window.location.search.substr(1).match(n);return null!=t?unescape(t[2]):null},v=function(e){var n,t=new RegExp("(^| )"+e+"=([^;]*)(;|$)");return(n=document.cookie.match(t))?unescape(n[2]):null},g={url:-1!=document.URL.indexOf("catchme")?"http://front.catchme.com.cn/":"http://front.5zhua.cn/",version:"1.0.0",token:"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJodHRwOi8vZnJvbnQuNXpodWEuY24vd2VjaGF0L29hdXRoIiwiaWF0IjoxNTEzNzM1NDg3LCJleHAiOjE1MTM3NDI2ODcsIm5iZiI6MTUxMzczNTQ4NywianRpIjoiUVRKN1VEN2Y3SW9zRFNqdCIsInN1YiI6MTN9.eANCMEowZQeZXOM2dCO6lh7jSUbTc4J8U5AbLusXuoU",place:x("place"),isWx:"WeiXin"===o(),isAlipay:"Alipay"===o(),isTpp:"Tpp"===o()},y=this,b=function(){var e=c()(r.a.mark(function e(){var n,t,o,a,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"fetch";return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s=s.toUpperCase(),i=g.url+i,"GET"==s&&(n="",m()(c).forEach(function(e){n+=e+"="+c[e]+"&"}),""!==n&&(n=n.substr(0,n.lastIndexOf("&")),i=i+"?"+n)),!window.fetch||"fetch"!=u){e.next=21;break}return t={method:s,headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer"+g.token},mode:"cors",cache:"force-cache"},"POST"==s&&Object.defineProperty(t,"body",{value:f()(c)}),e.prev=6,e.next=9,window.fetch(i,t);case 9:return o=e.sent,e.next=12,o.json();case 12:return a=e.sent,e.abrupt("return",a);case 16:throw e.prev=16,e.t0=e.catch(6),new Error(e.t0);case 19:e.next=22;break;case 21:return e.abrupt("return",new d.a(function(e,n){var t=void 0;t=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject;var o="";"POST"==s&&(o=f()(c)),t.open(s,i,!0),t.setRequestHeader("Content-type","application/x-www-form-urlencoded"),t.send(o),t.onreadystatechange=function(){if(4==t.readyState)if(200==t.status){var o=t.response;"object"!==(void 0===o?"undefined":p()(o))&&(o=JSON.parse(o)),e(o)}else n(t)}}));case 22:case"end":return e.stop()}},e,y,[[6,16]])}));return function(){return e.apply(this,arguments)}}(),M=function(e){return b("api/wechat/jssdk",e)},O={name:"HelloWorld",data:function(){return{}},methods:{getReq:function(){var e=this;return c()(r.a.mark(function n(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M();case 2:e.sent;case 3:case"end":return e.stop()}},n,e)}))()},test:function(){var e=this;return c()(r.a.mark(function n(){var t,o,a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return new Headers,t={method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"},mode:"cors",cache:"default"},e.next=4,window.fetch("http://proxy.5zhua.cn/api/get_room_list",t);case 4:return o=e.sent,e.next=7,o.json();case 7:a=e.sent,console.log(a);case 9:case"end":return e.stop()}},n,e)}))()}}},j={render:function(){var e=this.$createElement,n=this._self._c||e;return n("div",{staticClass:"index"},[n("p",[this._v("活动的页面")]),this._v(" "),n("button",{on:{click:this.getReq}},[this._v("发送请求")]),this._v(" "),n("button",{on:{click:this.test}},[this._v("请求2")])])},staticRenderFns:[]},E=t("OF7X")(O,j,!1,function(e){t("yfzQ")},"data-v-437e9765",null).exports,R={render:function(){var e=this.$createElement,n=this._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},staticRenderFns:[]},T=t("OF7X")({name:"app"},R,!1,function(e){t("Irl6")},null,null).exports,I=t("iDdd"),k=t.n(I),N=function(){return new d.a(function(e,n){var t=x("token"),o=(x("place"),document.URL.split("?")),a=o[1]&&o[1].match(new RegExp("=","g"));if(o[1]&&o[1].indexOf("place=")>-1&&a.length)if(t)!function(e,n){var t=new Date;t.setTime(t.getTime()+36e5),document.cookie=e+"="+escape(n)+";expires="+t.toGMTString()}("token_",t),window.location.href=function(e){var n=window.location,t=n.origin+n.pathname+"?",o=n.search.substr(1);if(o.indexOf(e)>-1){for(var a={},r=o.split("&"),i=0;i<r.length;i++)r[i]=r[i].split("="),a[r[i][0]]=r[i][1];return delete a[e],t+f()(a).replace(/[\"\{\}]/g,"").replace(/\:/g,"=").replace(/\,/g,"&")}}("token");else if(v("token_"))e();else if(g.isAlipay)window.location.href=g.url+"alipay/oauth?callback="+document.URL;else if(g.isTpp){var r;localStorage.getItem("uid")?r=localStorage.getItem("uid"):(r=function(){var e=(new Date).getTime();return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(n){var t=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==n?t:3&t|8).toString(16)})}(),localStorage.setItem("uid",r)),window.location.href=g.url+"tpp/oauth?identity="+r+"&callback="+document.URL}else window.location.href=g.url+"wechat/oauth?callback="+document.URL;else v("place")&&(window.location.href=document.URL+"?place="+v("place"))})},A=t("zO6J");s.a.use(A.a);var L=new A.a({mode:"history",routes:[{path:"/place",component:E},{path:"/404",component:function(e){return t.e(0).then(function(){return e(t("jeOU"))}.bind(null,t)).catch(t.oe)}},{path:"/",redirect:"/place"}]}),C=this,S=function(){return new d.a(function(){var e=c()(r.a.mark(function e(n,t){var o;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M({url:document.URL.split("#")[0]});case 2:o=e.sent,console.log(o),200==o.status_code?n(o.data):L.replace("/404");case 5:case"end":return e.stop()}},e,C)}));return function(n,t){return e.apply(this,arguments)}}()).then(function(e){!function(e){console.log("wx config"),wx.config({debug:!1,appId:e.appId,timestamp:e.timestamp,nonceStr:e.nonceStr,signature:e.signature,url:e.url,jsApiList:["onMenuShareTimeline","onMenuShareAppMessage","showOptionMenu","hideMenuItems","showMenuItems","hideAllNonBaseMenuItem","showAllNonBaseMenuItem","chooseWXPay","scanQRCode"]})}(e),console.log("wx ready"),wx.ready(function(){wx.showOptionMenu()}),wx.error(function(e){console.error(f()(e)),console.error("wx error")})}).catch(function(e){console.log(e)})};!function(e,n){var t=e.documentElement,o="orientationchange"in window?"orientationchange":"resize",a=function(){var e=t.clientWidth;e&&(t.style.fontSize=e>=640?"100px":e/640*100+"px")};e.addEventListener&&(n.addEventListener(o,a,!1),e.addEventListener("DOMContentLoaded",a,!1))}(document,window),k.a.attach(document.body),c()(r.a.mark(function e(){var n;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=document.createElement("script"),e.next=4,N();case 4:g.isWx?(n.src="http://res.wx.qq.com/open/js/jweixin-1.2.0.js",document.getElementsByTagName("body")[0].appendChild(n),n.onload=function(){S()}):(n.src="https://a.alipayobjects.com/g/h5-lib/alipayjsapi/3.0.5/alipayjsapi.inc.min.js",document.getElementsByTagName("body")[0].appendChild(n));case 5:new s.a({el:"#app",router:L,template:"<App/>",components:{App:T}});case 6:case"end":return e.stop()}},e,this)}))()},yfzQ:function(e,n){}},["NHnr"]);
//# sourceMappingURL=app.1673067ab85c3eac0f2e.js.map